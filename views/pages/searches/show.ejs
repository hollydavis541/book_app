<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../../layout/head') %>
    <link rel="stylesheet" href="/styles/modules/searches/show.css">
    <link rel="stylesheet" href="/styles/modules/books/show.css">
  </head>
  <body>
    <%- include('../../layout/header') %>
    <main>

        <h4>Search Results</h4>
        <ul class="search-results">
          <% searchResults.forEach(book => { %>
            <li data-book-id="<%= book.isbn %>">
              <div class="book-container">
                <img src=<%= book.image_url %>>
                <section>
                  <h3><%= book.title %></h3>
                  <span><%= book.author %></span>
                  <p class="desc"><%= book.description %></p>        
                </section>
                <button class="detail-button select-button" type="submit">Select This Book</button>
            </li>
        </ul>
        <!-- Credit to Trevor Thompson for the basis of the form formatting below -->
        <section class="hide-me" id="hidden-form">
          <form action="/books" method="post" class="form-container">
              <input type="text" name="title" value="<%= book.title %>" required>
              <input type="text" name="author" value="<%= book.author %>" required>
              <input type="text" name="isbn" value="<%= book.isbn %>" required>
              <input type="text" name="image_url" value="<%= book.image_url %>" required>
              <input type="text" name="description" value="<%= book.description %>" required>
              <input type="text" name="bookshelf" value="<%= book.bookshelf %>" required>
              <button type="submit" class="add-button">Add to Database</button>
          </form>
        </section>
        <% }) %>
  
    </main>
    <%- include('../../layout/footer') %>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="../../../public/js/app.js"></script>
</html>
